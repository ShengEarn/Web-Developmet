<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Jungle Workout Studios - Trainer</title>
  <link rel="stylesheet" href="../resetsheet.css" />
  <link rel="stylesheet" href="../main.css" />
  <link rel="stylesheet" href="trainerprofile.css" />
</head>

<body>
  <div class="wrapper">
    <header class="header">
      <div class="logo">
        <a href="../home.html">Jungle Workout Studios</a>
      </div>
      <nav>
        <ul>
          <li><a href="../home.html">Home</a></li>
          <li><a href="../facility.html">Facility</a></li>
          <li><a href="../trainer.html">Trainer</a></li>
          <li><a href="../product.html">Product</a></li>
          <li><a href="../about.html">About Us</a></li>
        </ul>
      </nav>
    </header>

    <section class="content">
      <div>
        <div class="row">
          <h1 style="font-size: 32px;margin-left: 7%; margin-top: 30px;"> Alex Tan </h1>
          <a href="../trainer.html" style="margin-left: 70%;"></a>
        </div>
        <div class="row">

          <div class="profile-column ">
            <div class="profile-row">
              <img src="alextan-1.jpg" class="profile-img">
              <img src="alextan-2.jpg" class="profile-img">
              <img src="alextan-3.jpg" class="profile-img">
              <img src="alextan-4.jpg" class="profile-img">

            </div>

            <div class="profile-row">
              <img src="alextan-5.jpg" class="profile-img">
              <img src="alextan-6.jpg" class="profile-img">
              <img src="alextan-7.jpg" class="profile-img">
              <img src="alextan-8.jpg" class="profile-img">

            </div>
          </div>
          <div class="profile-column" style="margin-left: 8%;">

            <p style="font-size: 24px;font-weight: bold;">Experiences & Qualifications </p>
            <ul>
              <li ::marker class="profile-data">REPs recognised Level 3 Personal Trainer</li>
              <li ::marker class="profile-data">Over 15 years experience in the fitness industry</li>
              <li ::marker class="profile-data">Certified ems level 3 trainer (I-MOTION)</li>
              <li ::marker class="profile-data">Certified Strength and Conditioning Specialist (CSCS)</li>
              <li ::marker class="profile-data">Speed and Agility Training Expert for Athletic Development</li>

            </ul>



          </div>
        </div>
        <div>
          <p style="margin-left:5%;font-size: 24px;font-weight: bold"> Check for available slot :</p>
          <div class="row" style="margin-top: 20px;">
            <div style="margin-left:5%">
              <label for="month-select" style="font-size: 22px;">Select month:</label>
              <select id="month-select" style="font-size: 20px;">
                <option value="0">January</option>
                <option value="1">February</option>
                <option value="2">March</option>
                <option value="3">April</option>
                <option value="4" selected>May</option>
                <option value="5">June</option>
                <option value="6">July</option>
                <option value="7">August</option>
                <option value="8">September</option>
                <option value="9">October</option>
                <option value="10">November</option>
                <option value="11">December</option>
              </select>

              <label for="year-select" style="margin-left:30px;font-size: 22px;">Select year:</label>
              <select id="year-select" style="font-size: 20px;">
                <option value="2023" selected>2023</option>
                <option value="2024">2024</option>
                <option value="2025">2025</option>
                <option value="2026">2026</option>
                <!-- Add more options as needed -->
              </select>
            </div>
          </div>
          <div class="row" style="margin-top:20px;margin-bottom: 50px;">
            <div style="margin-left:5%">
              <table class="table" width="100%">
                <thead>
                  <tr class="tr">
                    <th class="th">Sun</th>
                    <th class="th">Mon</th>
                    <th class="th">Tue</th>
                    <th class="th">Wed</th>
                    <th class="th">Thu</th>
                    <th class="th">Fri</th>
                    <th class="th">Sat</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- calendar cells will be generated here -->
                </tbody>
              </table>
            </div>
            <div id="available-slot"></div>
          </div>
        </div>
      </div>
    </section>


    <footer class="footer">
      <div class="footer-section">
        <h3>Operating Hours</h3>
        <p>Monday - Friday: 7am - 11pm</p>
        <p>Saturday: 8am - 11pm</p>
        <p>Sunday: 8am - 12am</p>
      </div>
      <div class="footer-section">
        <h3>Location</h3>
        <p>123 Jalan Raja Abdullah</p>
        <p>Chow Kit 50300 Kuala Lumpur</p>
        <p>Wilayah Persekutuan</p>
      </div>
      <div class="footer-section">
        <h3>Menu</h3>
        <ul>
          <li><a href="../home.html">Home</a></li>
          <li><a href="../facility.html">Facility</a></li>
          <li><a href="../trainer.html">Trainer</a></li>
          <li><a href="../product.html">Product</a></li>
          <li><a href="../about.html">About Us</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Contact Us</h3>
        <ul>
          <li>Phone: 010-456-7890</li>
          <li>Email: jungleworkoutstudios@gmail.com</li>
          <li>Follow us on social media:</li>
          <li>
            <a href="#">Facebook</a>
          </li>
          <li>
            <a href="#">Twitter</a>
          </li>
        </ul>
      </div>
      <div class="footer-bottom">
        &copy; 2023 My Company. All rights reserved.
      </div>
    </footer>
  </div>
</body>

</html>

<script>
  const today = new Date();

  // Get the current month and year
  let currentMonth = today.getMonth();
  let currentYear = today.getFullYear();

  // Generate the calendar for the current month and year
  generateCalendar(currentMonth, currentYear);

  // Select the month dropdown
  const monthSelect = document.querySelector('#month-select');
  const yearSelect = document.querySelector('#year-select');


  function updateCalendar() {
    const selectedMonth = parseInt(monthSelect.value);
    const selectedYear = parseInt(yearSelect.value);

    // Create a new Date object for the selected month and year
    const selectedDate = new Date(selectedYear, selectedMonth);

    // Check if the selected date is before the current date
    if (selectedDate < today) {
      // Set the selected month and year to the current month and year
      alert('Please select a future month and year.');
      monthSelect.value = today.getMonth().toString();
      yearSelect.value = today.getFullYear().toString();
    }

    // Get the updated selected month and year values
    const updatedMonth = parseInt(monthSelect.value);
    const updatedYear = parseInt(yearSelect.value);

    // Regenerate the calendar for the updated month and year
    generateCalendar(updatedMonth, updatedYear);

    // Log the selected year to the console
  }
  monthSelect.addEventListener('change', updateCalendar);
  yearSelect.addEventListener('change', updateCalendar);

  function generateCalendar(month, year) {
    // Get the number of days in the current month
    const daysInMonth = new Date(year, month + 1, 0).getDate();

    // Get the first day of the current month
    const firstDayOfMonth = new Date(year, month, 1).getDay();

    // Clear the existing calendar
    const tbody = document.querySelector('tbody');
    tbody.innerHTML = '';

    let day = 1;
    let numRows = Math.ceil((daysInMonth + firstDayOfMonth) / 7); // Calculate the number of rows needed

    for (let i = 0; i < numRows; i++) {
      const row = document.createElement('tr');
      row.classList.add('tr');
      for (let j = 0; j < 7; j++) {
        const cell = document.createElement('td');
        cell.classList.add('td');
        if (i === 0 && j < firstDayOfMonth) {
          // This cell is before the first day of the month
          cell.textContent = '';
        } else if (day > daysInMonth) {
          // This cell is after the last day of the month
          cell.textContent = '';
        } else {
          // This cell is a valid day in the month
          cell.textContent = day;
          day++;
        }
        row.appendChild(cell);
      }
      tbody.appendChild(row);
    }


    // Get the table cells for the current month and year
    const cells = document.querySelectorAll('tbody td:not(:empty)');

    // Add the "today" class to the current day cell(s)
    cells.forEach(cell => {
      cell.addEventListener('click', () => {
        // Remove the "clicked" class from all cells
        cells.forEach(cell => cell.classList.remove('clicked'));

        // Add the "clicked" class to the clicked cell
        cell.classList.add('clicked');

        // Get the selected date
        const selectedDate = new Date(year, month, parseInt(cell.textContent));


        // Check if the selected date is in the future
        const now = new Date();
        if (selectedDate < now) {
          // Display an error message and do not show available slots
          alert('Please select a future date.');
          return;
        }

        // Do something with the selected date

        const modalContent = `
      <div class="modal-content" >
        <span class="close">&times;</span>
        <u style="font-size:20px; font-weight:600;">Date Selected : ${selectedDate.toLocaleDateString()}</u>
        <p style="font-size:18px;margin-top:10px;font-weight:200">Book a time slot :</p>
        <div>
           <div class="row"> 
              <div class="column">
                <h1 style="font-size:16px;">8.00am - 10.00 am</h1>
              </div>
              <div class="column ">
               <button time-slot="8-10am" class="button">Book Slot</button>  
              </div>
              <hr style="width: 100%;color: black;"/>
            </div>

            <div class="row"> 
              <div class="column">
                <h1 style="font-size:16px;">10.00am - 12.00pm</h1>
              </div>
              <div class="column ">
               <button time-slot="10-12pm" class="button">Book Slot</button>  
              </div>
              <hr style="width: 100%;color: black;"/>
            </div>

            
            <div class="row"> 
              <div class="column">
                <h1 style="font-size:16px;">1.00pm - 3.00pm</h1>
              </div>
              <div class="column ">
               <button time-slot="1-3pm" class="button">Book Slot</button>  
              </div>
              <hr style="width: 100%;color: black;"/>
            </div>

            
            <div class="row"> 
              <div class="column">
                <h1 style="font-size:16px;">3.00pm - 5.00pm</h1>
              </div>
              <div class="column ">
               <button time-slot="3-5pm" class="button">Book Slot</button>  
              </div>
            </div>
      </div>
    `;
        // Create the selected date container element
        const selectedDateContainer = document.createElement('div');
        selectedDateContainer.setAttribute('id', 'available-slot');
        selectedDateContainer.classList.add('available-slot');
        selectedDateContainer.innerHTML = modalContent;

        // Add the selected date container element to the page
        document.body.appendChild(selectedDateContainer);

        // Close the modal when the close button is clicked
        const closeBtn = selectedDateContainer.querySelector('.close');
        closeBtn.addEventListener('click', () => {
          selectedDateContainer.remove();
        });

        const bookSlotButtons = document.querySelectorAll('#available-slot button');
        bookSlotButtons.forEach(button => {
          button.addEventListener('click', () => {

            const timeSlot = button.getAttribute('time-slot');
            // Create the book slot modal content
            const bookSlotModalContent = ` <div class="content"> <span class="close">&times;</span> 
    <p style="font-size:26px;font-weight:600;text-align:center"> Booking Form</p>
	<hr style="width: 100%;color: black;"/>
	<p style="background-color: lightyellow;border-color: yellow;border-width: 2px;border-style:solid;padding:15px;font-size:16px">
	 You're about to make a booking. Please ensure that you have read the booking terms on the page
	and enter your personal information carefully. Once submitted it cannot be changed.</p>
	<hr style="width: 100%;color: black;"/>
	<div class="div">
		<h1 style="font-size:16px"> Trainer name : Alex Tan </h1>
    <p class="p">Date selected: ${selectedDate.toLocaleDateString()}</p>
    <p class="p">Time slot: ${timeSlot}</p>
	</div>
	<hr style="width: 100%;color: black;"/>
	<div class="div">
		<h1 style="font-size:16px"> Personal Information </h1>
		<form >
			<div class="row" style="margin-top:10px">
			<label for="first_name"  style="font-size:16px"> First Name :</label>
			<input type="text"id="first_name" name="first_name"required  style="font-size:16px;margin-left:40px;width:70%"></input>
			</div>

			<div class="row" style="margin-top:10px">
			<label for="last_name"  style="font-size:16px"> Last Name :</label>
			<input type="text"id="last_name" name="last_name"required  style="font-size:16px;margin-left:41px;width:70%"></input>
			</div>

			<div class="row" style="margin-top:10px">
			<label for="contact"  style="font-size:16px"> Contact Number :</label>
			<input type="text"id="contact" name="contact"required  style="font-size:16px;margin-left:5px;width:70%"></input>
			</div>

			<div class="row" style="margin-top:10px">
			<label for="email"  style="font-size:16px"> Email :</label>
			<input type="text"id="email" name="email"required  style="font-size:16px;margin-left:73px;width:70%"></input>
			</div>

			<input type="submit" value="Submit" class="button" style="font-size:16px;margin-top:15px;margin-left:90%;width:10%"></input>
		</form>
	</div>
   
    
      ` ;

            // Create the book slot modal container element
            const bookSlotModal = document.createElement('div');
            bookSlotModal.setAttribute('id', 'book-slot-modal');
            bookSlotModal.innerHTML = bookSlotModalContent;

            // Add the book slot modal container element to the page
            document.body.appendChild(bookSlotModal);

            // Close the book slot modal when the close button is clicked
            const slotcloseBtn = bookSlotModal.querySelector('.close');
            slotcloseBtn.addEventListener('click', () => {
              bookSlotModal.remove();
            });

            // Submit the form and close the book slot modal when the form is submitted
            const form = bookSlotModal.querySelector('form');
            form.addEventListener('submit', (event) => {
              event.preventDefault();
              const firstnameInput = form.querySelector('#first_name');
              const lastnameInput = form.querySelector('#last_name');
              const phoneInput = form.querySelector('#contact ');
              const emailInput = form.querySelector('#email');


              // Do something with the form data, like send it to a server
              console.log('First Name:', firstnameInput.value);
              console.log('Last Name:', lastnameInput.value);
              console.log('Email:', emailInput.value);
              console.log('Phone:', phoneInput.value);

              // Clear the form inputs
              firstnameInput.value = '';
              lastnameInput.value = '';
              emailInput.value = '';
              phoneInput.value = '';

              // Close the book slot modal
              alert("Appointment successfully booked ! See you! ");
              bookSlotModal.remove();

              button.innerText = 'Not Available';
              button.disabled = true;

            });


          })
        })

      });
    });
  }
</script>
